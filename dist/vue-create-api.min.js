/**
 * vue-create-api v0.2.3
 * (c) 2024 ustbhuangyi
 * @license MIT
 */
!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n.VueCreateAPI=e()}(this,function(){"use strict";var c=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},e=/-(\w)/g;function f(n){return(n+"").replace(e,function(n,e){return e?e.toUpperCase():""})}function g(n){return void 0===n}function w(n,t,e,r,o){var i=void 0,a=void 0,u=new n(c({},o,{render:function(n){var e=a&&a(n);return e&&!Array.isArray(e)&&(e=[e]),n(t,c({},i),e||[])},methods:{init:function(){document.body.appendChild(this.$el)},destroy:function(){this.$destroy(),this.$el&&this.$el.parentNode===document.body&&document.body.removeChild(this.$el)}}}));u.updateRenderData=function(n,e){i=n,a=e},u.updateRenderData(e,r),u.$mount(),u.init();var f=u.$children[0];return f.$updateProps=function(n){c(i.props,n),u.$forceUpdate()},f}function E(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};e={},t.forEach(function(n){e[n]=f("on-"+n)}),t=e;var r=c({},n),o={};for(var i in t)if(t.hasOwnProperty(i)){var a=t[i];r[a]&&(o[i]=r[a],delete r[a])}return{props:r,on:o}}var b="hook:beforeDestroy";function s(h){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],d=2<arguments.length&&void 0!==arguments[2]&&arguments[2],y=arguments[3],m=this,_={},$=[];return{before:function(n){$.push(n)},create:function(n,e,t){"function"!=typeof e&&g(t)&&(t=e,e=null),g(t)&&(t=d);var r=this,o=!!r.$on,i={};o&&((i.parent=r).__unwatchFns__||(r.__unwatchFns__=[]));var a,u,f,c,s,p=E(n,l),v=null;return function(r,t,n,e){var o=t.props.$props;if(o){delete t.props.$props;var i=[],a=[];if(Object.keys(o).forEach(function(n){var e=o[n];"string"==typeof e&&e in r?(t.props[n]=r[e],i.push(n),a.push(e)):t.props[n]=e}),n){var u=r.$watch(function(){var t={};return i.forEach(function(n,e){t[n]=r[a[e]]}),t},e);r.__unwatchFns__.push(u)}}}(r,p,o,function(n){v&&v.$updateProps(n)}),u=r,(f=(a=p).props.$events)&&(delete a.props.$events,Object.keys(f).forEach(function(n){var e=f[n];"string"==typeof e&&(e=u[e]),a.on[n]=e})),s=(c=p).props,Object.keys(s).forEach(function(n){"$"===n.charAt(0)&&(c[n.slice(1)]=s[n],delete s[n])}),v=function(e,t,n,r){$.forEach(function(n){n(e,t,r)});var o=n.parent?n.parent._uid:-1,i=_[o]?_[o]:{},a=i.comp,u=i.ins;if(r&&a&&u)return u.updateRenderData(e,t),u.$forceUpdate(),a;var f=w(m,h,e,t,n),c=f.$parent,s=f.remove;f.remove=function(){if(r){if(!_[o])return;_[o]=null}s&&s.apply(this,arguments),c.destroy()};var p=f.show;f.show=function(){return p&&p.apply(this,arguments),this};var v=f.hide;return f.hide=function(){return v&&v.apply(this,arguments),this},r&&(_[o]={comp:f,ins:c}),y.on(y.Event.InstanceDestroy,function n(){f.remove(),setTimeout(function(){y.off(y.Event.InstanceDestroy,n)})}),f}(p,e,i,t),o&&r.$on(b,function(){n=r,n.__unwatchFns__&&(n.__unwatchFns__.forEach(function(n){n()}),n.__unwatchFns__=null),v.remove(),v=null;var n}),v}}}var p=c({plugins:[]},{Event:{InstanceDestroy:"instance:destroy"},events:{},on:function(n,e){var t=this.events[n];t?t.find(function(n){return n===e})||t.push(e):this.events[n]=[e]},emit:function(n){for(var e=arguments.length,t=Array(1<e?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var o=this.events[n];o&&o.forEach(function(n){n.apply(void 0,function(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}(t))})},off:function(n,e){if(e){var t=this.events[n],r=t&&t.findIndex(function(n){return n===e});-1<r&&t.splice(r,1)}else delete this.events[n]}});return{use:function(e){if(p.plugins.find(function(n){return n===e}))return p;for(var n=arguments.length,t=Array(1<n?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return t.unshift(p),"function"==typeof e.install?e.install.apply(e,t):"function"==typeof e&&e.apply(null,t),p.plugins.push(e),p},install:function(i){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=n.componentPrefix,a=void 0===e?"":e,t=n.apiPrefix,u=void 0===t?"$create-":t;i.createAPI=function(n,e,t){"boolean"==typeof e&&(t=e,e=[]);var r=s.call(this,n,e,t,p),o=function(n,e){var t=e.componentPrefix,r=e.apiPrefix,o=n.name;!function(n,e){if(!n)throw new Error("[vue-create-api error]: "+e)}(o,"Component must have name while using create-api!");var i,a=new RegExp("^"+(t+"").replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\"+(i||"")+"-]","g"),"\\$&"),"i"),u=o.replace(a,"");return""+f(""+r+u)}(n,{componentPrefix:a,apiPrefix:u});return i.prototype[o]=n.$create=r.create,r}},instantiateComponent:w,version:"0.2.3"}});